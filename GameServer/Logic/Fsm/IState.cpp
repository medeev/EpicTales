

#include "Pch.h"
#include "IState.h"

////////////////////////////////////////////////////////////////////////////////////////////////////
/// @ brief		생성자
////////////////////////////////////////////////////////////////////////////////////////////////////
IState::IState(FsmComponent& fsm, Actor& owner, EFsmStateType type)
	:
	_fsm(fsm),
	_owner(owner),
	_type(type),
	_updateTimeInterval(0),
	_nextUpdateTime(0)
{
}

////////////////////////////////////////////////////////////////////////////////////////////////////
/// @ brief	업데이트 타임 간격을 설정한다.
////////////////////////////////////////////////////////////////////////////////////////////////////
void IState::_setUpdateTimeInterval(int32_t mSec)
{
	_updateTimeInterval = mSec;
}

////////////////////////////////////////////////////////////////////////////////////////////////////
/// @ brief	업데이트 가능한지 여부를 반환한다.
////////////////////////////////////////////////////////////////////////////////////////////////////
bool IState::_isUpdateTime(int64_t curTimeValue) const
{
	if (_nextUpdateTime == 0 || _nextUpdateTime < curTimeValue)
		return true;

	return false;
}

////////////////////////////////////////////////////////////////////////////////////////////////////
/// @ brief	다음 업데이트시간을 설정한다.
////////////////////////////////////////////////////////////////////////////////////////////////////
void IState::_setNextUpdateTime(int64_t curtTimeValue)
{
	_nextUpdateTime = curtTimeValue + _updateTimeInterval;
}
