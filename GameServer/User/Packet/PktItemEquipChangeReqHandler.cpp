////////////////////////////////////////////////////////////////////////////////////////////////////
/// @brief PktItemEquipChangeReqHandler 의 소스 파일입니다.
////////////////////////////////////////////////////////////////////////////////////////////////////

#include "Pch.h"
#include "PktItemEquipChangeReqHandler.h"

#include <Data/Info/ItemInfo.h>

////////////////////////////////////////////////////////////////////////////////////////////////////
/// @brief 패킷을 처리한다
////////////////////////////////////////////////////////////////////////////////////////////////////
void PktItemEquipChangeReqHandler::onHandler(User& user, PktItemEquipChangeReq& req)
{
    std::shared_ptr<Ack> ack = std::make_shared<Ack>();
    ack->setReqKey(req.getReqKey());
    _onHandler(user, req, ack);
}

////////////////////////////////////////////////////////////////////////////////////////////////////
/// @brief 패킷을 처리한다
////////////////////////////////////////////////////////////////////////////////////////////////////
void PktItemEquipChangeReqHandler::_onHandler(User& user, PktItemEquipChangeReq& req, std::shared_ptr<Ack>& ack)
{
	auto player = user.getPlayer();
	if (!player)
	{
		ack->setResult(EResultCode::InvalidState);
		user.send(*ack);
		return;
	}

	auto world = player->getWorld();
	if (!world)
	{
		ack->setResult(EResultCode::InvalidState);
		user.send(*ack);
		return;
	}
}


